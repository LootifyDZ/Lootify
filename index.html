<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lootify | Login</title>
<link rel="icon" href="rr.png">
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:monospace}
body, html{height:100%;display:flex;justify-content:center;align-items:center;background:#001b0f;color:#38ff9c;overflow:hidden}
.system{width:90%;max-width:720px;position:relative}
.terminal{background:rgba(0,0,0,.75);border-left:4px solid #38ff9c;padding:22px;position:relative;}
.terminal span{color:#38ff9c;display:block;margin-bottom:10px;}
.terminal input{width:100%;background:#0d1b0c;color:#a8ff8c;border:none;border-bottom:1px solid #38ff9c;padding:12px;margin:12px 0;}
.terminal button{width:100%;padding:12px;background:#073d10;color:#a8ff9c;border:1px solid #38ff9c;margin-top:10px;cursor:pointer;}
.bear-login-wrapper{position:absolute;bottom:100%;left:20%;transform:translateX(-50%);width:180px;pointer-events:none;}
.bear-login{width:100%;image-rendering:pixelated;animation:blink 5s infinite;}
@keyframes blink{0%,90%,100%{transform:scaleY(1);}92%,96%{transform:scaleY(0.1);}}
.pupil{position:absolute;width:16px;height:16px;background:#000;border-radius:50%;z-index:2;}
</style>
</head>
<body>

<div class="system">
  <div class="terminal">
    <div class="bear-login-wrapper">
      <img src="bearee.png" class="bear-login">
      <div class="pupil" id="leftPupil"></div>
      <div class="pupil" id="rightPupil"></div>
    </div>

    <span>&gt; ENTER EMAIL :</span>
    <input id="email" type="email">

    <span>&gt; ENTER PASSWORD :</span>
    <input id="pass" type="password">

    <button onclick="login()">UNLOCK SYSTEM</button>
    <button onclick="googleLogin()">GOOGLE AUTH</button>

    <a href="signup.html" style="display:block;margin-top:12px;color:#38ff9c;text-align:center">
      you donâ€™t have an account? sign up
    </a>
  </div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
import { getAuth, onAuthStateChanged, signInWithEmailAndPassword, GoogleAuthProvider, signInWithPopup } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyC9CiSEsdIYIHcFhTkrwyCxlLUUxkmLiDY",
  authDomain: "lootify-89bf6.firebaseapp.com",
  projectId: "lootify-89bf6",
  storageBucket: "lootify-89bf6.appspot.com",
  messagingSenderId: "1075454919896",
  appId: "1:1075454919896:web:3cada8ca62c612dd9a03ad"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const provider = new GoogleAuthProvider();

// ðŸ” Redirect if logged in
onAuthStateChanged(auth, (user) => {
  if(user) location.href = "Lootify1.html";
});

// Login functions
window.login = () => {
  const emailInput = document.getElementById('email').value;
  const passInput = document.getElementById('pass').value;
  signInWithEmailAndPassword(auth,emailInput,passInput)
    .then(()=>location.href="Lootify1.html")
    .catch(err=>alert(err.message));
};

window.googleLogin = () => {
  signInWithPopup(auth,provider)
    .then(()=>location.href="Lootify1.html")
    .catch(err=>alert(err.message));
};

// Pupils animation
window.addEventListener('DOMContentLoaded',()=>{
  const leftPupil=document.getElementById('leftPupil');
  const rightPupil=document.getElementById('rightPupil');
  const bearWrapper=document.querySelector('.bear-login-wrapper');
  const eyesCenter={x:bearWrapper.offsetWidth*0.55,y:bearWrapper.offsetHeight*0.3};

  leftPupil.style.left=`${bearWrapper.offsetWidth*0.35}px`;
  leftPupil.style.top=`${bearWrapper.offsetHeight*0.3}px`;
  rightPupil.style.left=`${bearWrapper.offsetWidth*0.65}px`;
  rightPupil.style.top=`${bearWrapper.offsetHeight*0.3}px`;

  document.addEventListener('mousemove',(e)=>{
    const rect=bearWrapper.getBoundingClientRect();
    const dx=e.clientX-(rect.left+eyesCenter.x);
    const dy=e.clientY-(rect.top+eyesCenter.y);
    const angle=Math.atan2(dy,dx);
    const radius=8;
    const offsetX=radius*Math.cos(angle);
    const offsetY=radius*Math.sin(angle);
    leftPupil.style.left=`${bearWrapper.offsetWidth*0.35 + offsetX}px`;
    leftPupil.style.top=`${bearWrapper.offsetHeight*0.3 + offsetY}px`;
    rightPupil.style.left=`${bearWrapper.offsetWidth*0.65 + offsetX}px`;
    rightPupil.style.top=`${bearWrapper.offsetHeight*0.3 + offsetY}px`;
  });
});
</script>

</body>
</html>

